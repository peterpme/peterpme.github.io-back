<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d74fe167678b0a61c190.css">code[class*=language-]{color:var(--gray-medium);background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}:not(pre)>code[class*=language-]{background:#161130;padding:.2em;border-radius:.3em;white-space:normal}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}small{font-size:80%}img{border-style:none}button,input{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible}button{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{color:inherit;display:table;max-width:100%;white-space:normal}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden]{display:none}html{box-sizing:border-box;font-family:sans-serif}*,:after,:before{box-sizing:inherit}h1,h2,p{margin:0}button{background:transparent;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{border:0 solid #e2e8f0}img{border-style:solid}input::-webkit-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input{padding:0;line-height:inherit;color:inherit}code{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}canvas,img,object,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-purple-900{background-color:#06061e}.bg-no-repeat{background-repeat:no-repeat}.bg-cover{background-size:cover}.border-gray-600{border-color:#718096}.rounded-full{border-radius:9999px}.border-b-2{border-bottom-width:2px}.block{display:block}.flex{display:flex}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.justify-center{justify-content:center}.flex-shrink-0{flex-shrink:0}.font-bold{font-weight:700}.h-5{height:1.25rem}.h-24{height:6rem}.h-screen{height:100vh}.leading-tight{line-height:1.25}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.list-none{list-style-type:none}.mx-auto{margin-left:auto;margin-right:auto}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mt-2{margin-top:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.ml-6{margin-left:1.5rem}.max-w-2xl{max-width:42rem}.min-h-screen{min-height:100vh}.p-0{padding:0}.p-4{padding:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pb-0{padding-bottom:0}.pt-2{padding-top:.5rem}.pb-2{padding-bottom:.5rem}.pt-3{padding-top:.75rem}.pr-3{padding-right:.75rem}.pb-3{padding-bottom:.75rem}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.text-white{color:#fff}.text-gray-200{color:#edf2f7}.text-gray-500{color:#a0aec0}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.visible{visibility:visible}.w-5{width:1.25rem}.w-24{width:6rem}.w-3\/5{width:60%}.z-10{z-index:10}@media (min-width:400px){.bg{z-index:-1;background-image:url(https://source.unsplash.com/ZrCLoDQTFUI/900x1000)}}.markdown{line-height:1.625;font-size:1.125rem}.markdown h1,.markdown h2{font-size:1.5rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:700}.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-size:1.25rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;color:#fff}.markdown a{color:#9f7aea}.markdown a:hover{text-decoration:underline}.markdown p{margin-bottom:1rem}.markdown ol,.markdown ul{margin-bottom:1rem;margin-left:2rem}.markdown li>ol,.markdown li>p,.markdown li>ul{margin-bottom:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown blockquote{padding:.5rem 0 .5rem 1.5rem;margin-right:1.5rem;margin-bottom:1rem;border-left-width:4px;border-color:#cbd5e0}.markdown blockquote>p{margin-bottom:0}.markdown td,.markdown th{padding:.25rem .5rem;border-width:1px;border-color:#cbd5e0}.markdown tr:nth-child(odd){background-color:#f7fafc}.markdown table{margin-bottom:1.5rem}.markdown anchor{padding-top:1rem}@media (min-width:640px){.sm\:pr-20{padding-right:5rem}.sm\:pl-20{padding-left:5rem}}</style><meta name="generator" content="Gatsby 2.13.65"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">Taming React Native’s ScrollView with flex | Peter Piekarczyk</title><meta data-react-helmet="true" name="description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:title" content="Taming React Native’s ScrollView with flex"/><meta data-react-helmet="true" property="og:description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@peterpme"/><meta data-react-helmet="true" name="twitter:title" content="Taming React Native’s ScrollView with flex"/><meta data-react-helmet="true" name="twitter:description" content="The homepage of Peter Piekarczyk"/><link as="script" rel="preload" href="/webpack-runtime-6532b6b1764ae3314947.js"/><link as="script" rel="preload" href="/app-a7d705b40d132e7476d0.js"/><link as="script" rel="preload" href="/styles-e85565c759bcefc8fc63.js"/><link as="script" rel="preload" href="/1-2f9f9af4507345056c2b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"/><link as="fetch" rel="preload" href="/page-data/blog/2018-02-05_Taming-React-Native-s-ScrollView-with-flex-144e6ff76c08/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="bg fixed right-0 top-0 bottom-0 w-3/5 h-screen bg-cover bg-no-repeat"></div><main class="z-10 p-fixed bg-purple-900 min-h-screen text-gray-500 leading-relaxed max-w-2xl px-6 sm:pr-20 sm:pl-20 py-6"><a rel="home" class="text-2xl" href="/blog">←</a><h1 class="text-3xl leading-tight text-gray-200 font-headline font-bold mb-3 pb-0">Taming React Native’s ScrollView with flex</h1><section class="markdown"><p>Time and time again I find myself fighting a ScrollView to get it to work the way I want it to. Is it flex? Is it the ScrollView? It was time I wrote an article.</p>
<p>My favorite scenario, the one that inspired this article, the one that I <em>always</em> forget about, the one I recently encountered for <a href="https://www.orchard.ai" target="_blank" rel="nofollow noopener noreferrer">Orchard</a>, (what a build-up) is one where I’d like the screen to scroll normally when things don’t fit and <code class="language-text">justify-content: space-between</code> when there’s room.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*ufHTLmxN3lbS0lkYIkt7wA.png" alt="A comparison between what the screens should look like on an iPhone 5s. vs iPhone X">
A comparison between what the screens should look like on an iPhone 5s. vs iPhone X</p>
<h4 id="a-couple-of-different-solutions-came-to-mind-at-first"><a href="#a-couple-of-different-solutions-came-to-mind-at-first" aria-label="a couple of different solutions came to mind at first permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A couple of different solutions came to mind at first:</h4>
<ul>
<li>Use either <code class="language-text">View</code> or <code class="language-text">ScrollView</code> depending on the device height (meh)</li>
<li>Decrease the text size until everything fit (meh)</li>
<li>Place the “Privacy Policy” outside of the <code class="language-text">ScrollView</code> making it sticky, but it felt weird to scroll over and still see the privacy policy.</li>
</ul>
<p>I felt like these options would either make my life miserable or even worse: the user’s life miserable. I went to the docs for <code class="language-text">ScrollView</code> and read over <a href="https://facebook.github.io/react-native/docs/scrollview.html#contentcontainerstyle" target="_blank" rel="nofollow noopener noreferrer"><code class="language-text">contentContainerStyle</code></a>:</p>
<blockquote>
<p>These styles will be applied to the scroll view content container which wraps all of the child views</p>
</blockquote>
<p>contentContainerStyle is a step in the right direction. It will apply styles to the content container as if there were a <code class="language-text">View</code> wrapping your children.</p>
<p>It worked great on the iPhone X. There was enough room so everything was justified vertically. But what happens when you try this on a smaller device like the iPhone 5s? It sticks! Why?</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*YTUsQLCjenUOf4TrcbHz-A.gif" alt="iPhone 5s with a ScrollView that doesn’t scroll">
iPhone 5s with a ScrollView that doesn’t scroll</p>
<h4 id="react-native-flex-vs-css-flex"><a href="#react-native-flex-vs-css-flex" aria-label="react native flex vs css flex permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React Native Flex vs. CSS Flex</h4>
<p>It turns out that <code class="language-text">flex</code> <a href="https://facebook.github.io/react-native/docs/layout-props.html#flex" target="_blank" rel="nofollow noopener noreferrer">functions a bit differently</a> in React Native than it does in CSS which is why setting <code class="language-text">flex: 1</code> didn’t work the way I thought it would.</p>
<p>In CSS, <code class="language-text">flex</code> is short-hand for controlling the following properties:</p>
<ul>
<li><code class="language-text">flex-grow</code></li>
<li><code class="language-text">flex-shrink</code></li>
<li><code class="language-text">flex-basis</code></li>
</ul>
<p>Writing <code class="language-text">flex: 1</code> in CSS is shorthand for:</p>
<ul>
<li><code class="language-text">flex-grow: 1</code></li>
<li><code class="language-text">flex-shrink: 1</code></li>
<li><code class="language-text">flex-basis: 0</code></li>
</ul>
<p>In React Native, on the other hand, <code class="language-text">flex</code> consumes a number, not an string and it works like this:</p>
<ul>
<li>positive number — component becomes flexible and will function proportionally to its value. A value of 2 will take up twice as much space as a sibling that has a value of 1.</li>
<li>0 — the component isn’t flexible and is sized by <code class="language-text">width</code> and <code class="language-text">height</code> .</li>
<li>-1 — the component is sized by its <code class="language-text">width</code> and <code class="language-text">height</code> but if there’s not enough space, it will shrink to satisfy <code class="language-text">minWidth</code> and <code class="language-text">minHeight</code> .</li>
</ul>
<h4 id="flex-grow"><a href="#flex-grow" aria-label="flex grow permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flex Grow</h4>
<p>Writing <code class="language-text">flex-grow: 1</code> in CSS is shorthand for:</p>
<ul>
<li><code class="language-text">flex-grow: 1</code></li>
<li><code class="language-text">flex-shrink: 1</code></li>
<li><code class="language-text">flex-basis: auto</code> (this is different!)</li>
</ul>
<p><code class="language-text">flex-grow</code> distributes <strong>free space</strong> to <code class="language-text">flex</code> items. When there is no free space, <code class="language-text">flex-grow</code> does nothing and <code class="language-text">flex-shrink</code> takes over to determine how much items will shrink relative to its siblings (instead of grow).</p>
<h4 id="why-does-this-matter"><a href="#why-does-this-matter" aria-label="why does this matter permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why does this matter?</h4>
<p>The solution has to do with the implementation differences of <code class="language-text">flex</code> and <code class="language-text">flexGrow</code> in React Native.</p>
<p>Since <code class="language-text">flexGrow</code> functions the same way, we can easily solve this problem by updating our <code class="language-text">contentContainerStyle</code> to <code class="language-text">flexGrow: 1</code> instead:</p>
<p>Using flexGrow vs. flex in contentContainerStyle prop
<img src="https://cdn-images-1.medium.com/max/800/1*srqvcWdFNXICYCw7xhb4Mw.gif" alt="iPhone 5s with a ScrollView that scrolls correctly">
iPhone 5s with a ScrollView that scrolls correctly</p>
<p>Hopefully neither of us will have to struggle with a <code class="language-text">ScrollView</code> and <code class="language-text">flex</code> again!</p></section><span class="block mt-4">Published on <!-- -->February 05, 2018</span><small><a target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/search?q=https://peterp.me/blog/2018-02-05_Taming-React-Native-s-ScrollView-with-flex-144e6ff76c08/">Discuss on Twitter</a> <!-- -->·<!-- --> <a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/peterpme/peterpme.github.io/tree/master/content/blogblog/2018-02-05_Taming-React-Native-s-ScrollView-with-flex-144e6ff76c08/">Edit this post on GitHub</a></small><nav class="mt-4"><ul class="text-white list-none p-0"><li><a rel="prev" href="/blog/2018-01-06_Shaving-2-Minutes-Off-Our-Graphcool-Deployment-Times-f2565d21739c/">← <!-- -->Shaving 2 Minutes Off Our Graphcool Deployment Times</a></li><li><a rel="next" href="/blog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/">→ <!-- -->Your first ReasonML PR into an existing React Native Codebase</a></li></ul></nav></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2018-02-05_Taming-React-Native-s-ScrollView-with-flex-144e6ff76c08/";window.webpackCompilationHash="f146ed55f93bb0a77a00";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-a7d705b40d132e7476d0.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-5c6e01d279d05be4933e.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0908760328088e48c994.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-c1e22acb6a9ee307ad9b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b6fdf017023ca33a8c11.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js" async=""></script><script src="/1-2f9f9af4507345056c2b.js" async=""></script><script src="/styles-e85565c759bcefc8fc63.js" async=""></script><script src="/app-a7d705b40d132e7476d0.js" async=""></script><script src="/webpack-runtime-6532b6b1764ae3314947.js" async=""></script></body></html>