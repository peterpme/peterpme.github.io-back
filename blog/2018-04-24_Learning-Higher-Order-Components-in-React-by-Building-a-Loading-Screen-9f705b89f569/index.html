<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d74fe167678b0a61c190.css">code[class*=language-]{color:var(--gray-medium);background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}:not(pre)>code[class*=language-]{background:#161130;padding:.2em;border-radius:.3em;white-space:normal}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}small{font-size:80%}img{border-style:none}button,input{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible}button{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{color:inherit;display:table;max-width:100%;white-space:normal}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden]{display:none}html{box-sizing:border-box;font-family:sans-serif}*,:after,:before{box-sizing:inherit}h1,h2,p{margin:0}button{background:transparent;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{border:0 solid #e2e8f0}img{border-style:solid}input::-webkit-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input{padding:0;line-height:inherit;color:inherit}code{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}canvas,img,object,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-purple-900{background-color:#06061e}.bg-no-repeat{background-repeat:no-repeat}.bg-cover{background-size:cover}.border-gray-600{border-color:#718096}.rounded-full{border-radius:9999px}.border-b-2{border-bottom-width:2px}.block{display:block}.flex{display:flex}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.justify-center{justify-content:center}.flex-shrink-0{flex-shrink:0}.font-bold{font-weight:700}.h-5{height:1.25rem}.h-24{height:6rem}.h-screen{height:100vh}.leading-tight{line-height:1.25}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.list-none{list-style-type:none}.mx-auto{margin-left:auto;margin-right:auto}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mt-2{margin-top:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.ml-6{margin-left:1.5rem}.max-w-2xl{max-width:42rem}.min-h-screen{min-height:100vh}.p-0{padding:0}.p-4{padding:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pb-0{padding-bottom:0}.pt-2{padding-top:.5rem}.pb-2{padding-bottom:.5rem}.pt-3{padding-top:.75rem}.pr-3{padding-right:.75rem}.pb-3{padding-bottom:.75rem}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.text-white{color:#fff}.text-gray-200{color:#edf2f7}.text-gray-500{color:#a0aec0}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.visible{visibility:visible}.w-5{width:1.25rem}.w-24{width:6rem}.w-3\/5{width:60%}.z-10{z-index:10}@media (min-width:400px){.bg{z-index:-1;background-image:url(https://source.unsplash.com/ZrCLoDQTFUI/900x1000)}}.markdown{line-height:1.625;font-size:1.125rem}.markdown h1,.markdown h2{font-size:1.5rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:700}.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-size:1.25rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;color:#fff}.markdown a{color:#9f7aea}.markdown a:hover{text-decoration:underline}.markdown p{margin-bottom:1rem}.markdown ol,.markdown ul{margin-bottom:1rem;margin-left:2rem}.markdown li>ol,.markdown li>p,.markdown li>ul{margin-bottom:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown blockquote{padding:.5rem 0 .5rem 1.5rem;margin-right:1.5rem;margin-bottom:1rem;border-left-width:4px;border-color:#cbd5e0}.markdown blockquote>p{margin-bottom:0}.markdown td,.markdown th{padding:.25rem .5rem;border-width:1px;border-color:#cbd5e0}.markdown tr:nth-child(odd){background-color:#f7fafc}.markdown table{margin-bottom:1.5rem}.markdown anchor{padding-top:1rem}@media (min-width:640px){.sm\:pr-20{padding-right:5rem}.sm\:pl-20{padding-left:5rem}}</style><meta name="generator" content="Gatsby 2.13.65"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">Learning Higher-Order Components in React | Peter Piekarczyk</title><meta data-react-helmet="true" name="description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:title" content="Learning Higher-Order Components in React"/><meta data-react-helmet="true" property="og:description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@peterpme"/><meta data-react-helmet="true" name="twitter:title" content="Learning Higher-Order Components in React"/><meta data-react-helmet="true" name="twitter:description" content="The homepage of Peter Piekarczyk"/><link as="script" rel="preload" href="/webpack-runtime-6532b6b1764ae3314947.js"/><link as="script" rel="preload" href="/app-a7d705b40d132e7476d0.js"/><link as="script" rel="preload" href="/styles-e85565c759bcefc8fc63.js"/><link as="script" rel="preload" href="/1-2f9f9af4507345056c2b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"/><link as="fetch" rel="preload" href="/page-data/blog/2018-04-24_Learning-Higher-Order-Components-in-React-by-Building-a-Loading-Screen-9f705b89f569/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="bg fixed right-0 top-0 bottom-0 w-3/5 h-screen bg-cover bg-no-repeat"></div><main class="z-10 p-fixed bg-purple-900 min-h-screen text-gray-500 leading-relaxed max-w-2xl px-6 sm:pr-20 sm:pl-20 py-6"><a rel="home" class="text-2xl" href="/blog">‚Üê</a><h1 class="text-3xl leading-tight text-gray-200 font-headline font-bold mb-3 pb-0">Learning Higher-Order Components in React</h1><section class="markdown"><p><img src="https://cdn-images-1.medium.com/max/1200/1*WqA5KCPtu44P14_6NgX3Bw.jpeg" alt="A higher-order component in the wild by [Gamze Bozkaya](https://unsplash.com/photos/kxGHHEjUP7Q?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText) on¬†[Unsplash](https://unsplash.com/search/photos/higher-order?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText)">
A higher-order component in the wild by <a href="https://unsplash.com/photos/kxGHHEjUP7Q?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Gamze Bozkaya</a> on¬†<a href="https://unsplash.com/search/photos/higher-order?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Unsplash</a></p>
<p>Let me share a secret: no matter how long you‚Äôve been doing something, you‚Äôre bound to have to relearn some part of it. I haven‚Äôt built my own higher-order component in a long time and made a lot of mistakes. Real mistakes.</p>
<h3 id="why"><a href="#why" aria-label="why permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Why?</h3>
<p>The other day I was adding a simple loading indicator to screens in my new app. You‚Äôve probably used this pattern before:</p>
<p>An InfoScreen that renders Hi when loading is false in React Native</p>
<p>This is great. It‚Äôs simple and convenient for one screen. If you‚Äôre not used to React Native, <code class="language-text">ActivityIndicator</code> is one of the beautiful parts of app development‚Ää‚Äî‚Ääa component that <em>exists</em>.</p>
<p>When you find yourself repeating this same pattern often, its nice to see what we can do to rid ourselves from the tedious task of Copy &#x26; Paste.</p>
<h3 id="what-do-i-know"><a href="#what-do-i-know" aria-label="what do i know permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What do I¬†know?</h3>
<p>I know that I‚Äôll have a <code class="language-text">loading</code> prop FOR SURE.</p>
<p>What am I apprehensive about? The strategy I will use to genuinely make my life easier (instead of harder‚Ää‚Äî‚Ääsometimes we need a friendly reminder).</p>
<p><img src="https://cdn-images-1.medium.com/max/2560/1*KHFk4TZZQlAscHgktarR4w.jpeg" alt="Highly Organized Fruit by [Alex Block](https://unsplash.com/photos/vWI1kTcMcDI?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText) on¬†[Unsplash](https://unsplash.com/search/photos/order?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText)">
Highly Organized Fruit by <a href="https://unsplash.com/photos/vWI1kTcMcDI?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Alex Block</a> on¬†<a href="https://unsplash.com/search/photos/order?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Unsplash</a></p>
<h3 id="first-pass"><a href="#first-pass" aria-label="first pass permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>First Pass</h3>
<p>First pass at a loading indicator higher-order component</p>
<p>Besides the function wrapping <code class="language-text">React.PureComponent</code> everything should look familiar. If you want to skip ahead and use this as-is, just paste this into our <code class="language-text">InfoScreen</code> file and wrap the export:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withLoadingScreen</span><span class="token punctuation">(</span>InfoScreen<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>This pattern may look familiar if you‚Äôve used Apollo or Redux before:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>
  mapStateToProps<span class="token punctuation">,</span>
  mapActionCreators
<span class="token punctuation">)</span><span class="token punctuation">(</span>InfoScreen<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="compose"><a href="#compose" aria-label="compose permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compose</h3>
<p>If you‚Äôre wondering how to use both <code class="language-text">connect</code> and <code class="language-text">withLoadingScreen</code> you can wrap the components individually or use a <code class="language-text">compose</code> function. Writing a compose function by hand is cool, but importing the one from one of the libraries you‚Äôre already using is cooler. Both <code class="language-text">redux</code> and <code class="language-text">react-apollo</code> come bundled with their own:</p>
<p>various compose imports from redux / react-apollo</p>
<h3 id="does-it-work"><a href="#does-it-work" aria-label="does it work permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Does it¬†work?</h3>
<p>Depending on what your setup looks like, it might work perfectly or it might not work at all! üòÉ üôÉ</p>
<p>I‚Äôm using <code class="language-text">react-navigation</code> which supports a static method called <a href="https://reactnavigation.org/docs/stack-navigator.html#navigationoptions-used-by-stacknavigator" target="_blank" rel="nofollow noopener noreferrer">navigationOptions</a> to override header title and styles.</p>
<p>The loading screen works as intended, but the header styles are gone! What happened? <a href="https://reactjs.org/docs/higher-order-components.html" target="_blank" rel="nofollow noopener noreferrer">Static methods aren‚Äôt copied over!</a> It‚Äôs super easy to overlook but also super easy to fix.</p>
<p>There‚Äôs a library called <a href="https://github.com/mridgway/hoist-non-react-statics" target="_blank" rel="nofollow noopener noreferrer">hoist-non-react-statics</a> that will automatically copy over static variables like <code class="language-text">navigationOptions</code>¬†, <code class="language-text">defaultProps</code>and <code class="language-text">propTypes</code>.</p>
<h3 id="second-pass-hoisting-static-variables"><a href="#second-pass-hoisting-static-variables" aria-label="second pass hoisting static variables permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Second Pass: Hoisting Static Variables</h3>
<p>Second pass at LoadingScreen higher-order component</p>
<p>Instead of returning the class immediately, we return it only after calling <code class="language-text">hoistNonReactStatics</code>¬†. The header is rendering correctly again. Woo!</p>
<h3 id="third-pass-passing-in-options"><a href="#third-pass-passing-in-options" aria-label="third pass passing in options permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Third Pass: Passing in¬†Options</h3>
<p>Now that the loading screen itself functions correctly, I want to pass in a different loading indicator size for different screens.</p>
<p>Sometimes the default loading indicator is too big or the wrong color so I‚Äôd like to be able to adjust when I need to.</p>
<p><code class="language-text">connect</code> and <code class="language-text">graphql</code> both give you options:</p>
<ul>
<li><code class="language-text">connect(mapStateToProps, mapActionCreators)</code></li>
<li><code class="language-text">graphql(MyQuery, { options })</code></li>
</ul>
<p>We can do the same by adding another function call:</p>
<p>withNavigationOptions Higher Order Component with additional options</p>
<p>In this case I wanted to control the size of the <code class="language-text">ActivityIndicator</code></p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token function">withLoadingScreen</span><span class="token punctuation">(</span><span class="token string">"large"</span><span class="token punctuation">)</span><span class="token punctuation">(</span>InfoScreen<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or using compose:</span>

<span class="token function">compose</span><span class="token punctuation">(</span>
  <span class="token function">withLoadingScreen</span><span class="token punctuation">(</span><span class="token string">"large"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">compose</span><span class="token punctuation">(</span>
    mapStateToProps<span class="token punctuation">,</span>
    mapActionCreators
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">(</span>InfoScreen<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="bonus-round-naming-your-components"><a href="#bonus-round-naming-your-components" aria-label="bonus round naming your components permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bonus Round: Naming Your Components</h3>
<p>You‚Äôre bound to run into issues. Sometimes the component name doesn‚Äôt show up or doesn‚Äôt match the component in question. We can fix this easily by writing a simple function called <code class="language-text">getDisplayName</code>¬†:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getDisplayName</span><span class="token punctuation">(</span><span class="token parameter">WrappedComponent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    WrappedComponent<span class="token punctuation">.</span>displayName <span class="token operator">||</span> WrappedComponent<span class="token punctuation">.</span>name <span class="token operator">||</span> <span class="token string">"LoadingScreen"</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>A higher-order component with a display name</p>
<h3 id="conclusion"><a href="#conclusion" aria-label="conclusion permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h3>
<p>Higher-order components have a few weird things about them that you can fix easily. Code responsibly.</p></section><span class="block mt-4">Published on <!-- -->April 24, 2018</span><small><a target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/search?q=https://peterp.me/blog/2018-04-24_Learning-Higher-Order-Components-in-React-by-Building-a-Loading-Screen-9f705b89f569/">Discuss on Twitter</a> <!-- -->¬∑<!-- --> <a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/peterpme/peterpme.github.io/tree/master/content/blogblog/2018-04-24_Learning-Higher-Order-Components-in-React-by-Building-a-Loading-Screen-9f705b89f569/">Edit this post on GitHub</a></small><nav class="mt-4"><ul class="text-white list-none p-0"><li><a rel="prev" href="/blog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/">‚Üê <!-- -->Your first ReasonML PR into an existing React Native Codebase</a></li><li></li></ul></nav></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2018-04-24_Learning-Higher-Order-Components-in-React-by-Building-a-Loading-Screen-9f705b89f569/";window.webpackCompilationHash="f146ed55f93bb0a77a00";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-a7d705b40d132e7476d0.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-5c6e01d279d05be4933e.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0908760328088e48c994.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-c1e22acb6a9ee307ad9b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b6fdf017023ca33a8c11.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js" async=""></script><script src="/1-2f9f9af4507345056c2b.js" async=""></script><script src="/styles-e85565c759bcefc8fc63.js" async=""></script><script src="/app-a7d705b40d132e7476d0.js" async=""></script><script src="/webpack-runtime-6532b6b1764ae3314947.js" async=""></script></body></html>