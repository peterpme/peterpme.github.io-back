<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d74fe167678b0a61c190.css">code[class*=language-]{color:var(--gray-medium);background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Fira Code,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}:not(pre)>code[class*=language-]{background:#161130;padding:.2em;border-radius:.3em;white-space:normal}

/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}small{font-size:80%}img{border-style:none}button,input{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible}button{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}legend{color:inherit;display:table;max-width:100%;white-space:normal}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden]{display:none}html{box-sizing:border-box;font-family:sans-serif}*,:after,:before{box-sizing:inherit}h1,h2,p{margin:0}button{background:transparent;padding:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{list-style:none;margin:0;padding:0}html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{border:0 solid #e2e8f0}img{border-style:solid}input::-webkit-input-placeholder{color:#a0aec0}input::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder{color:#a0aec0}input::-ms-input-placeholder{color:#a0aec0}input::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}h1,h2{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input{padding:0;line-height:inherit;color:inherit}code{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}canvas,img,object,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}.bg-purple-900{background-color:#06061e}.bg-no-repeat{background-repeat:no-repeat}.bg-cover{background-size:cover}.border-gray-600{border-color:#718096}.rounded-full{border-radius:9999px}.border-b-2{border-bottom-width:2px}.block{display:block}.flex{display:flex}.flex-col{flex-direction:column}.items-start{align-items:flex-start}.justify-center{justify-content:center}.flex-shrink-0{flex-shrink:0}.font-bold{font-weight:700}.h-5{height:1.25rem}.h-24{height:6rem}.h-screen{height:100vh}.leading-tight{line-height:1.25}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.list-none{list-style-type:none}.mx-auto{margin-left:auto;margin-right:auto}.mb-0{margin-bottom:0}.mb-1{margin-bottom:.25rem}.mt-2{margin-top:.5rem}.mb-3{margin-bottom:.75rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.ml-6{margin-left:1.5rem}.max-w-2xl{max-width:42rem}.min-h-screen{min-height:100vh}.p-0{padding:0}.p-4{padding:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pb-0{padding-bottom:0}.pt-2{padding-top:.5rem}.pb-2{padding-bottom:.5rem}.pt-3{padding-top:.75rem}.pr-3{padding-right:.75rem}.pb-3{padding-bottom:.75rem}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.text-white{color:#fff}.text-gray-200{color:#edf2f7}.text-gray-500{color:#a0aec0}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.visible{visibility:visible}.w-5{width:1.25rem}.w-24{width:6rem}.w-3\/5{width:60%}.z-10{z-index:10}@media (min-width:400px){.bg{z-index:-1;background-image:url(https://source.unsplash.com/ZrCLoDQTFUI/900x1000)}}.markdown{line-height:1.625;font-size:1.125rem}.markdown h1,.markdown h2{font-size:1.5rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:700}.markdown h3,.markdown h4,.markdown h5,.markdown h6{font-size:1.25rem;margin-top:1.5rem;margin-bottom:1.5rem;font-weight:600;color:#fff}.markdown a{color:#9f7aea}.markdown a:hover{text-decoration:underline}.markdown p{margin-bottom:1rem}.markdown ol,.markdown ul{margin-bottom:1rem;margin-left:2rem}.markdown li>ol,.markdown li>p,.markdown li>ul{margin-bottom:0}.markdown ol{list-style-type:decimal}.markdown ul{list-style-type:disc}.markdown blockquote{padding:.5rem 0 .5rem 1.5rem;margin-right:1.5rem;margin-bottom:1rem;border-left-width:4px;border-color:#cbd5e0}.markdown blockquote>p{margin-bottom:0}.markdown td,.markdown th{padding:.25rem .5rem;border-width:1px;border-color:#cbd5e0}.markdown tr:nth-child(odd){background-color:#f7fafc}.markdown table{margin-bottom:1.5rem}.markdown anchor{padding-top:1rem}@media (min-width:640px){.sm\:pr-20{padding-right:5rem}.sm\:pl-20{padding-left:5rem}}</style><meta name="generator" content="Gatsby 2.13.65"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="shortcut icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">Your first ReasonML PR into an existing React Native Codebase | Peter Piekarczyk</title><meta data-react-helmet="true" name="description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:title" content="Your first ReasonML PR into an existing React Native Codebase"/><meta data-react-helmet="true" property="og:description" content="The homepage of Peter Piekarczyk"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@peterpme"/><meta data-react-helmet="true" name="twitter:title" content="Your first ReasonML PR into an existing React Native Codebase"/><meta data-react-helmet="true" name="twitter:description" content="The homepage of Peter Piekarczyk"/><link as="script" rel="preload" href="/webpack-runtime-6532b6b1764ae3314947.js"/><link as="script" rel="preload" href="/app-a7d705b40d132e7476d0.js"/><link as="script" rel="preload" href="/styles-e85565c759bcefc8fc63.js"/><link as="script" rel="preload" href="/1-2f9f9af4507345056c2b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"/><link as="fetch" rel="preload" href="/page-data/blog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="bg fixed right-0 top-0 bottom-0 w-3/5 h-screen bg-cover bg-no-repeat"></div><main class="z-10 p-fixed bg-purple-900 min-h-screen text-gray-500 leading-relaxed max-w-2xl px-6 sm:pr-20 sm:pl-20 py-6"><a rel="home" class="text-2xl" href="/blog">←</a><h1 class="text-3xl leading-tight text-gray-200 font-headline font-bold mb-3 pb-0">Your first ReasonML PR into an existing React Native Codebase</h1><section class="markdown"><p><img src="https://cdn-images-1.medium.com/max/1200/1*SaPK2OLdX_BeFp7yxRvbcg.jpeg" alt="A delightful plate of Reason. Take a bite! by [Amy Treasure](https://unsplash.com/photos/WoVGndRTx2o?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/reason?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText)">
A delightful plate of Reason. Take a bite! by <a href="https://unsplash.com/photos/WoVGndRTx2o?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Amy Treasure</a> on <a href="https://unsplash.com/search/photos/reason?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Unsplash</a></p>
<p>ReasonML is becoming a popular way of building React apps. It’s based on the OCaml programming language with syntax very similar to JavaScript but with a compiler that warns you early on, instead of when your app is live!</p>
<p>If you’ve been sold on ReasonML and you’re ready to incorporate your first component into a personal or better yet — company project!, this article is for you!</p>
<h3 id="read-this-first"><a href="#read-this-first" aria-label="read this first permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Read This First</h3>
<p>My goal is for you to get your first PR out the door. I’m skipping over a lot of the “why” and jumping right into “this is how”.</p>
<p>Learning something new is never easy. Making time for learning is already a struggle given how much bosses are piling onto our plates these days. I want to make this as stress-free and simple for you as possible.</p>
<p>If you find that it’s not, just <a href="https://twitter.com/peterpme" target="_blank" rel="nofollow noopener noreferrer">let me know.</a> Until then sit back, relax, stretch your copy-and-paste fingers and follow along. Welcome to Reason.</p>
<h3 id="installing-reason"><a href="#installing-reason" aria-label="installing reason permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installing Reason</h3>
<p>A huge convenience of Reason is being able to install everything through npm. That makes it super easy to get started. <a href="https://github.com/reasonml-community/bs-react-native" target="_blank" rel="nofollow noopener noreferrer">Read more about it here.</a></p>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">yarn add --dev bs-platform &amp;&amp; yarn add reason-react bs-react-native</code></pre></div>
<h4 id="create-a-bsconfigjson"><a href="#create-a-bsconfigjson" aria-label="create a bsconfigjson permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a bsconfig.json</h4>
<p>bsconfig.json is a file that supports settings for <a href="https://bucklescript.github.io/" target="_blank" rel="nofollow noopener noreferrer">bucklescript</a>. After looking at a bunch of these, I’ve concluded that they’re usually exactly the same.</p>
<p><strong>Altos is the name of my app. You should replace that 😃</strong></p>
<h4 id="add-scripts"><a href="#add-scripts" aria-label="add scripts permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add Scripts</h4>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
 <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"bsb -make-world -clean-world"</span><span class="token punctuation">,</span>
 <span class="token property">"watch"</span><span class="token operator">:</span> <span class="token string">"bsb -make-world -clean-world -w"</span>
<span class="token punctuation">}</span></code></pre></div>
<h4 id="project-structure"><a href="#project-structure" aria-label="project structure permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Project Structure</h4>
<p>Create a <code class="language-text">re</code> folder next to package.json This is where all of your components will live. In our <code class="language-text">bsconfig.json</code> file we have <code class="language-text">sources</code> that already include <code class="language-text">re</code> . <a href="https://reasonml.github.io/docs/en/project-structure.html#publishing" target="_blank" rel="nofollow noopener noreferrer">Here are some other great guidelines</a>.</p>
<p>All your components will need to be capitalized:</p>
<ul>
<li>Typography.re</li>
<li>Label.re</li>
<li>Add the following to your <code class="language-text">.gitignore:</code></li>
</ul>
<div class="gatsby-highlight" data-language="sh"><pre class="language-sh"><code class="language-sh">.merlin
.bsb.lock
lib</code></pre></div>
<h4 id="bsjs-files"><a href="#bsjs-files" aria-label="bsjs files permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.bs.js files</h4>
<p>If you want to sneak Reason into your codebase without forcing your teammates to install <code class="language-text">bs-platform</code> you’re welcome to add the generated <code class="language-text">*.bs.js</code> files. That being said, you might face merge conflicts down the road.</p>
<p>If your teammates are all cool with Reason, place <code class="language-text">*.bs.js</code> inside your <code class="language-text">.gitignore</code> and have them install <code class="language-text">bs-platform.</code></p>
<p>Every team is different so I leave this decision up to you. Chances are you can get away with including them and <a href="https://reasonml.chat/t/should-i-include-or-exclude-bs-js-files-in-git/60" target="_blank" rel="nofollow noopener noreferrer">figure it out later.</a></p>
<h4 id="press-play"><a href="#press-play" aria-label="press play permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Press Play</h4>
<ol>
<li>Open up a terminal window and run <code class="language-text">yarn watch or npm run watch</code></li>
<li>Start your React Native Project <code class="language-text">react-native run-ios</code> or <code class="language-text">expo start</code></li>
</ol>
<p>If nothing broke, you have succeeded in getting your project ready for Reason! Pat yourself on the back — you have taken an enormous step forward to your first Reason pull request!</p>
<p><img src="https://cdn-images-1.medium.com/max/2560/1*0Q7LTDXRR0b89ByL9nbrpg.jpeg" alt="Delicious bite-size chunks of Reason by [Rose Elena](https://unsplash.com/photos/llWdsvyRxYA?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/treats?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText)">
Delicious bite-size chunks of Reason by <a href="https://unsplash.com/photos/llWdsvyRxYA?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Rose Elena</a> on <a href="https://unsplash.com/search/photos/treats?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText" target="_blank" rel="nofollow noopener noreferrer">Unsplash</a></p>
<h3 id="your-first-component"><a href="#your-first-component" aria-label="your first component permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Your First Component</h3>
<p>Creating your first component can be really easy or really hard. If you’re going to try and convert something with a lot of external modules, you’re going to have a bad time.</p>
<p>The first component I introduced into our project was a simple Label:</p>
<p>Label component in ReactJS</p>
<p>The label consumes a prop <code class="language-text">label</code> and sets the background color to gray. The only components I’m using are <code class="language-text">View, Text, StyleSheet</code> because the bindings are supported by <a href="https://github.com/reasonml-community/bs-react-native" target="_blank" rel="nofollow noopener noreferrer">bs-react-native</a>.</p>
<p>Bindings let ReasonML know the type of your code from Javascript so it can save you from making silly mistakes later.</p>
<h4 id="converting-to-reason"><a href="#converting-to-reason" aria-label="converting to reason permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Converting to Reason</h4>
<p>At first glance, a lot of things are the same, but a lot are different. <strong>ReasonML requires semicolons!</strong> The compiler will delightfully let you know.</p>
<p>The Label component converted to ReactReason.</p>
<h4 id="imports"><a href="#imports" aria-label="imports permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Imports</h4>
<p>In ReactJS and Javascript, you’d import something via <code class="language-text">import React from &#39;react&#39;</code> or <code class="language-text">const React = require(&#39;react&#39;).</code></p>
<p>Reason will import the libraries you have installed automatically. We added them in <code class="language-text">bsconfig.json.</code></p>
<p>When you see <code class="language-text">open BsReactNative</code> you’re doing something similar to <code class="language-text">import { Component } from &#39;react&#39;.</code> You can <code class="language-text">import React from &#39;react&#39;</code> and then call React.Component, or import the Component directly and save yourself some text.</p>
<p>So, instead of writing <code class="language-text">BsReactNative.StyleSheet, BsReactNative.View</code> I can <code class="language-text">open BsReactNative</code> and write <code class="language-text">StyleSheet, View</code> instead.</p>
<h4 id="local-opens"><a href="#local-opens" aria-label="local opens permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Opens</h4>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">Style.(</code></pre></div>
<p>A dot with nothing after it in this case is called a “local open”. Its the same as calling <code class="language-text">import Style</code> but only for this function. This helps us avoid conflicts across the whole file.</p>
<p>See how within the function we’re calling <code class="language-text">borderRadius</code> ? We could also do something like this instead:</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">style=(
 Style.style([
 Style.borderRadius(4.)
]);</code></pre></div>
<p><em>(thanks to</em> <a href="https://medium.com/u/ddb95b022776" target="_blank" rel="nofollow noopener noreferrer"><em>Sean Grove</em></a> <em>for pointing this out!)</em></p>
<h4 id="styling--stylesheets"><a href="#styling--stylesheets" aria-label="styling  stylesheets permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Styling / StyleSheets</h4>
<p>Styling is tricky at first but gets easier over time. Let me save you a lot of time and effort by linking you to <a href="https://github.com/reasonml-community/bs-react-native/blob/master/src/style.rei" target="_blank" rel="nofollow noopener noreferrer">all the style types supported by bs-react-native</a>. I’d highly recommend keep this open until you get the hang of it!</p>
<p>Why is styling tricky? Because you’re not used to typing things a certain way. Here’s a great example:</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">borderRadius(4.)</code></pre></div>
<p>vs</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">paddingHorizontal(Pt(10.))</code></pre></div>
<p>In ReactJS, <code class="language-text">borderRadius</code> and <code class="language-text">paddingHorizontal</code> are the same type (number). but in ReactReason, they’re different:</p>
<ul>
<li><code class="language-text">borderRadius</code> is a <a href="https://github.com/reasonml-community/bs-react-native/blob/master/src/style.rei#L278" target="_blank" rel="nofollow noopener noreferrer">float</a>.</li>
<li><code class="language-text">paddingHorizontal</code> is a <a href="https://github.com/reasonml-community/bs-react-native/blob/master/src/style.rei#L156" target="_blank" rel="nofollow noopener noreferrer">pt_pct</a>. <code class="language-text">pt_pct</code> isn’t a Reason thing. It’s a type within the bs-react-native library that means:</li>
</ul>
<blockquote>
<p>This can either be a float wrapped by point (pt) or a float wrapped by a percentage (pct)</p>
</blockquote>
<h4 id="components"><a href="#components" aria-label="components permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Components</h4>
<p>A stateless function component in ReactJs will be represented by a function:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">Label</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> label <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">&lt;</span>Text<span class="token operator">></span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Text<span class="token operator">></span><span class="token punctuation">;</span></code></pre></div>
<p>In Reason React:</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">*/ Label.re */

[@react.component]
let make = (~label) =&gt; &lt;Text&gt; {React.string(label)} &lt;/Text&gt;</code></pre></div>
<p><code class="language-text">[@react.component]</code>:</p>
<p>You put this above every component. Think of this like a decorator in Javascript. It knows to convert the sugar to React calls.</p>
<p>The arguments:</p>
<ul>
<li>Optional components look like this: <code class="language-text">~label=?</code> with an <code class="language-text">=?</code> at th
e end</li>
<li>Default arguments should look familiar: <code class="language-text">label=&quot;Network&quot;</code></li>
</ul>
<h4 id="stringtoelement"><a href="#stringtoelement" aria-label="stringtoelement permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>stringToElement</h4>
<p>If you try to display your label the same way you would in ReactJS, you’ll be greeted with a compiler error. That’s because you have to convert the string to an React element: <code class="language-text">ReasonReact.stringToElement(label).</code> Why do we do this? Because <a href="https://reasonml.github.io/reason-react/docs/en/render.html#docsNav" target="_blank" rel="nofollow noopener noreferrer">Reason’s type system restricts you from passing arbitrary data</a>.</p>
<p>You’ll also notice a space between <code class="language-text">&lt;Text&gt; &lt;/Text&gt;</code>. That’s intentional!</p>
<p>There’s a good chance you’re going to display a number in your first component. That would look like this:</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">&lt;Text&gt; {ReasonReact.stringToElement(string_of_int(10)} &lt;/Text&gt;</code></pre></div>
<p>There’s a <a href="https://reasonml.github.io/reason-react/docs/en/render.html#docsNav" target="_blank" rel="nofollow noopener noreferrer">couple of different</a> special element types you might need, but I would strongly suggest you focus on a simple component first.</p>
<h4 id="exporting-your-component-to-js-land"><a href="#exporting-your-component-to-js-land" aria-label="exporting your component to js land permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exporting your component to JS land</h4>
<p>In ReactJS, you’d write <code class="language-text">export default</code> or <code class="language-text">export const</code> and consume your component the way you would with anything else.</p>
<p>In ReasonReact, there’s an extra step you have to take via <code class="language-text">wrapReasonForJs</code> .</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">let default =
  ReasonReact.wrapReasonForJs(~component, jsProps =&gt;
    make(~label=jsProps##label, [||])
  );</code></pre></div>
<p>Basically the pattern is to take your props (in this case we only have label) and pass them in as: <code class="language-text">~label=jsProps##label</code> . Children will look like: <code class="language-text">[||]</code> .</p>
<h4 id="use-it"><a href="#use-it" aria-label="use it permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use it!</h4>
<p>You’ve done such a great job putting together your first component, it’s time for you to use it. Just import it with the <code class="language-text">bs</code> extension:</p>
<div class="gatsby-highlight" data-language="re"><pre class="language-re"><code class="language-re">import Label from &quot;./re/Label.bs.js&quot;

&lt;Label label=&quot;REACT NATIVE&quot; /&gt;</code></pre></div>
<h3 id="push-it-up--let-me-know"><a href="#push-it-up--let-me-know" aria-label="push it up  let me know permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Push it up &#x26; let me know!</h3>
<p>I challenge you to create one small, tiny Reason component and introduce it into your company’s React Native app. If you do, please <a href="https://twitter.com/peterpme" target="_blank" rel="nofollow noopener noreferrer">let me know!!</a></p>
<p>Otherwise, until you’re ready <a href="https://twitter.com/peterpme" target="_blank" rel="nofollow noopener noreferrer">follow me on Twitter</a>. You’ll see a lot of Reason-related stuff.</p>
<p><a href="https://github.com/peterpme/reason-react-native-example" target="_blank" rel="nofollow noopener noreferrer">I created a base repo of this &#x26; expo as a reference.</a></p>
<p><em>Thanks to</em> <a href="https://khoanguyen.me/" target="_blank" rel="nofollow noopener noreferrer"><em>thangngoc89</em></a> <em>and</em> <a href="http://www.riseos.com/" target="_blank" rel="nofollow noopener noreferrer"><em>sgrove</em></a> <em>for peer-reviewing this.</em></p></section><span class="block mt-4">Published on <!-- -->March 03, 2018</span><small><a target="_blank" rel="nofollow noopener noreferrer" href="https://twitter.com/search?q=https://peterp.me/blog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/">Discuss on Twitter</a> <!-- -->·<!-- --> <a target="_blank" rel="nofollow noopener noreferrer" href="https://github.com/peterpme/peterpme.github.io/tree/master/content/blogblog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/">Edit this post on GitHub</a></small><nav class="mt-4"><ul class="text-white list-none p-0"><li><a rel="prev" href="/blog/2018-02-05_Taming-React-Native-s-ScrollView-with-flex-144e6ff76c08/">← <!-- -->Taming React Native’s ScrollView with flex</a></li><li><a rel="next" href="/blog/2018-04-24_Learning-Higher-Order-Components-in-React-by-Building-a-Loading-Screen-9f705b89f569/">→ <!-- -->Learning Higher-Order Components in React</a></li></ul></nav></main></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/2018-03-03_Your-first-ReasonML-PR-into-an-existing-React-Native-Codebase-a490b4a79649/";window.webpackCompilationHash="f146ed55f93bb0a77a00";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-a7d705b40d132e7476d0.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-5c6e01d279d05be4933e.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js"],"component---src-pages-404-js":["/component---src-pages-404-js-0908760328088e48c994.js"],"component---src-pages-blog-js":["/component---src-pages-blog-js-c1e22acb6a9ee307ad9b.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b6fdf017023ca33a8c11.js"]};/*]]>*/</script><script src="/component---src-templates-blog-post-js-3fbb1da6bd3f09c40906.js" async=""></script><script src="/1-2f9f9af4507345056c2b.js" async=""></script><script src="/styles-e85565c759bcefc8fc63.js" async=""></script><script src="/app-a7d705b40d132e7476d0.js" async=""></script><script src="/webpack-runtime-6532b6b1764ae3314947.js" async=""></script></body></html>